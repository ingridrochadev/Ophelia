"use strict";(self.webpackChunk_streamlit_app=self.webpackChunk_streamlit_app||[]).push([[9330],{69330:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var n=r(66845),s=r(40864);function u(e){let{element:t,width:r,endpoints:u}=e;const a=(0,n.useRef)(null),{startTime:d,endTime:i,loop:c}=t;(0,n.useEffect)((()=>{a.current&&(a.current.currentTime=d)}),[d]),(0,n.useEffect)((()=>{const e=a.current,r=()=>{e&&(e.currentTime=t.startTime)};return e&&e.addEventListener("loadedmetadata",r),()=>{e&&e.removeEventListener("loadedmetadata",r)}}),[t]),(0,n.useEffect)((()=>{const e=a.current;if(!e)return;let t=!1;const r=()=>{i>0&&e.currentTime>=i&&(c?(e.currentTime=d||0,e.play()):t||(t=!0,e.pause()))};return i>0&&e.addEventListener("timeupdate",r),()=>{e&&i>0&&e.removeEventListener("timeupdate",r)}}),[i,c,d]),(0,n.useEffect)((()=>{const e=a.current;if(!e)return;const t=()=>{c&&(e.currentTime=d||0,e.play())};return e.addEventListener("ended",t),()=>{e&&e.removeEventListener("ended",t)}}),[c,d]);const o=u.buildMediaURL(t.url);return(0,s.jsx)("audio",{"data-testid":"stAudio",id:"audio",ref:a,controls:!0,src:o,className:"stAudio",style:{width:r}})}}}]);